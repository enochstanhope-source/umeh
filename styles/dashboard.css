/* Dark, polished dashboard styles */
:root{
  --bg-page: #0b0f14;
  --bg-panel: linear-gradient(180deg,#071019 0%, #0e1318 100%);
  --surface: #0f1720;
  --muted: #9aa4ad;
  --accent: #ff6b6b;
  --accent-2: #ffb86b;
  --glass: rgba(255,255,255,0.03);
  --glass-2: rgba(255,255,255,0.02);
  --border: rgba(255,255,255,0.04);
  --card-radius: 14px;
}

html,body{ height:100%; }
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background: radial-gradient(1200px 400px at 10% 10%, rgba(255,107,107,0.05), transparent), linear-gradient(180deg,#071014 0%, #081018 40%, #07131a 100%);
  color: #e6eef6;
  -webkit-font-smoothing:antialiased;
}

.dashboard-container{
  max-width:1200px;
  margin:110px auto 80px;
  padding:22px;
}

.card{
  background: var(--bg-panel);
  border-radius: var(--card-radius);
  padding:18px;
  box-shadow: 0 6px 30px rgba(2,8,15,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
  border: 1px solid var(--border);
  margin-bottom:18px;
}

.dashboard-overview{ display:flex; gap:18px; align-items:flex-start; }
.card.stats{ flex:1 1 65%; }
.card.points{ flex:1 1 35%; min-width:240px }

.stat-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:12px; }
.stat-item{
  text-align:center;
  padding:14px;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.02);
}
.stat-value{ font-size:1.6rem; font-weight:800; color:var(--accent); letter-spacing:0.4px }
.stat-label{ color:var(--muted); font-size:0.9rem; margin-top:6px }

.points-bar{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px }
.points-value{ font-weight:800; font-size:1.25rem; color:var(--accent) }
.points-target{ color:var(--muted); font-size:0.85rem }

.progress{ height:14px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:999px; overflow:hidden; border:1px solid rgba(255,255,255,0.02); }
.progress.small{ height:12px }
.progress-fill{
  height:100%; width:0;
  background: linear-gradient(90deg,var(--accent), var(--accent-2));
  box-shadow: 0 6px 18px rgba(255,107,107,0.09) inset;
  transition: width 700ms cubic-bezier(.2,.9,.3,1);
}

.dashboard-main{ display:grid; grid-template-columns: 1fr 380px; gap:18px; margin-top:16px }
.courses{ grid-column:1 / 2 }
.skills{ grid-column:2 / 3 }
.courses-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:12px }

.course-item{
  display:flex; gap:12px; align-items:center; padding:14px; border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.02);
}
.course-meta{ flex:1 }
.course-title{ font-weight:700; margin-bottom:6px; color:#f3f7fb }
.course-progress{ margin-top:6px }

.skills-list{ display:flex; flex-direction:column; gap:10px }
.skill-chip{
  padding:12px 14px; display:flex; justify-content:space-between; align-items:center; border-radius:10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015));
  border:1px solid rgba(255,255,255,0.02);
}
.skill-chip div:first-child{ color:#eaf3ff }
.skill-chip small{ color:var(--muted) }

.badges{ display:flex; gap:8px; align-items:center }
.badge{
  background: linear-gradient(90deg,#ffd66b,#ff8a6b);
  color:#2b0505; padding:6px 10px; border-radius:999px; font-weight:700; font-size:0.85rem;
  box-shadow: 0 6px 18px rgba(255,138,107,0.08);
}

/* interactive badge/button behavior */
.badge{ cursor:pointer; user-select:none }
.badge:hover{ transform: translateY(-2px); transition: transform 160ms ease }


.leaderboard{ grid-column:1 / -1 }
.leaderboard-tabs{ display:flex; gap:8px; margin-bottom:12px }
.leaderboard-tabs .tab{ padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.03); background:transparent; color:var(--muted); cursor:pointer }
.leaderboard-tabs .tab.active{ background: linear-gradient(90deg,var(--accent), var(--accent-2)); color:#0b0b0b; font-weight:700; border-color:transparent }
.leaderboard-list{ padding-left:8px; margin:0 }
.leaderboard-list li{ padding:10px 8px; display:flex; justify-content:space-between; border-radius:8px; margin-bottom:8px; background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent) }
.leaderboard-list li strong{ color:#fff }

.badge.special{ background: linear-gradient(90deg,#7b61ff,#6b8bff); color:#fff }

@media (max-width: 980px){
  .dashboard-overview{ flex-direction:column }
  .dashboard-main{ grid-template-columns: 1fr; }
  .skills{ order:2 }
  .courses{ order:1 }
  .leaderboard{ grid-column:1 }
  .dashboard-container{ margin-top:90px; padding:16px }
}

/* subtle utility tweaks */
.courses-list .badge{ font-size:0.78rem; padding:6px 8px }
.course-item .progress{ width:260px; max-width:40vw }
.skill-chip .badge{ font-size:0.75rem }

/* Mobile-specific enhancements */
@media (max-width: 640px){
  .stat-grid{ grid-template-columns: repeat(2,1fr); gap:10px }
  .stat-item{ padding:12px }
  .dashboard-overview{ gap:12px }
  .card.points{ order:2; min-width: unset; width:100% }
  .card.stats{ order:1 }
  .course-item{ flex-direction:column; align-items:flex-start }
  .course-item > div[style]{ width:100%; text-align:left }
  .course-item .progress{ width:100%; max-width:100% }
  .courses-list .badge{ display:inline-block; margin-top:8px }
  .skills-list{ gap:8px }
  .leaderboard-tabs{ overflow:auto; -webkit-overflow-scrolling:touch }
  .leaderboard-tabs .tab{ flex:0 0 auto; white-space:nowrap }
  .modal-card{ padding:16px; margin:0 8px; max-width:calc(100% - 32px) }
  .modal-close{ right:12px; top:10px }
  .points-bar{ flex-direction:column; align-items:flex-start; gap:6px }
  .points-target{ font-size:0.85rem }
  .stat-value{ font-size:1.25rem }
}

/* Extra-tight mobile squeeze and centering for small phones */
@media (max-width: 420px){
  .dashboard-container{
    max-width: 420px; /* narrow container */
    margin: 70px auto 40px; /* smaller top margin */
    padding: 12px 10px;
  }
  .card{ padding:12px; border-radius:12px }
  .stat-grid{ grid-template-columns: 1fr; gap:10px }
  .stat-item{ text-align:center; padding:10px }
  .stat-value{ font-size:1.1rem }
  .stat-label{ font-size:0.82rem }
  .dashboard-overview{ align-items:center }
  .card.points{ width:100% }
  .course-item{ width:100%; padding:10px }
  .course-item{ align-items:flex-start }
  .course-meta{ width:100% }
  .course-title{ font-size:0.95rem }
  .course-item .progress{ width:100% }
  .courses-list, .skills-list{ gap:8px }
  .leaderboard-list li{ padding:8px; font-size:0.95rem }
  .leaderboard-tabs{ gap:6px }
  .leaderboard-tabs .tab{ padding:7px 10px; font-size:0.9rem }
  .badge{ padding:6px 8px; font-size:0.78rem }
  .modal-card{ margin: 0 10px; padding:14px }
}

/* Tweak for very common small phones (iPhone 12 ~390px) to ensure perfect vertical stacking
   - force all cards to full width
   - remove any min-widths that cause horizontal scroll
   - tighten top margin and padding for better on-screen fit */
@media (max-width: 412px){
  .dashboard-container{
    max-width: 412px;
    margin: 60px auto 32px;
    padding: 10px;
  }

  .dashboard-overview{ flex-direction:column; align-items:stretch; gap:12px }
  .dashboard-overview .card{ width:100%; min-width:unset }

  /* points card should not force a minimum width */
  .card.points{ min-width:unset; width:100% }

  /* main content single column and full width cards */
  .dashboard-main{ display:block; }
  .dashboard-main .card{ width:100%; margin-bottom:14px }

  /* make stat grid and stat items stack/fit nicely */
  .stat-grid{ grid-template-columns: 1fr; gap:10px }
  .stat-item{ padding:10px }

  /* ensure progress bars and course items are fluid */
  .course-item{ flex-direction:column; align-items:flex-start }
  .course-item .progress{ width:100%; max-width:100% }

  /* keep leaderboard tabs scrollable but not overflowing */
  .leaderboard-tabs{ overflow:auto; -webkit-overflow-scrolling:touch }
  .leaderboard-tabs .tab{ flex:0 0 auto }
}


/* Modal styles for certificate messages */
#dashboardModal{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:200000;
}
#dashboardModal .modal-backdrop{
  position:fixed; inset:0; background:rgba(3,6,12,0.6); display:flex; align-items:center; justify-content:center; padding:20px;
}
#dashboardModal .modal-card{
  background: linear-gradient(180deg, #081018, #0b1319); color:#eaf3ff; border-radius:12px; padding:20px; width:100%; max-width:520px; box-shadow:0 10px 50px rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.03);
}
#dashboardModal h3{ margin:0 0 8px 0; font-size:1.15rem }
#dashboardModal .modal-body{ color:var(--muted); line-height:1.45; white-space:pre-line }
#dashboardModal .modal-close{ position:absolute; right:22px; top:18px; background:transparent; border:none; color:#cfe9ff; font-size:20px; cursor:pointer }
#dashboardModal .modal-ok{ background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#081018; border:none; padding:8px 14px; border-radius:8px; cursor:pointer }

